!function(t,e){function n(n){function o(){if(u instanceof FormData){var t={};formData.forEach(function(e,n){t[n]=e}),u=t}}function s(n,o){d!==e&&(g=setTimeout(function(){"jsonp"===p?(delete t[n],document.body.removeChild(o)):(h=!0,j&&j.abort()),console.log("timeout")},d))}var r,c,a=n.url||"",i=(n.type||n.method||"get").toLowerCase(),u=n.data||null,f=n.contentType||"",p=n.dataType||"",l=n.async===e||n.async,d=n.timeOut,m=n.before||function(){},y=n.error||function(){},T=n.success||function(){},b=n.complete||function(){},h=!1,g=null,j=null;!function(){if(/\bjson\b/.test(f))o(),u=JSON.stringify(u),i="post";else if(u){if("string"==typeof u)u=function(t){for(var e=t.split("&"),n=0,o=e.length;n<o;n++){var s=encodeURIComponent(e[n].split("=")[0]),r=encodeURIComponent(e[n].split("=")[1]);e[n]=s+"="+r}return e}(u);else{if("get"!==i&&u instanceof FormData)return void(i="formPost");"object"==typeof u&&(o(),u=function t(n,o){function s(n,o,s){var r=[];return n=s===e?n:s+"["+n+"]","object"==typeof o&&null!==o?r=r.concat(t(o,n)):(n=encodeURIComponent(n),o=encodeURIComponent(o),r.push(n+"="+o)),r}var r,c=[];if("[object Array]"==Object.prototype.toString.call(n))for(var a=0,i=n.length;a<i;a++)r=n[a],c=c.concat(s("object"==typeof r?a:"",r,o));else if("[object Object]"==Object.prototype.toString.call(n))for(var u in n)r=n[u],c=c.concat(s(u,r,o));return c}(u))}u=u.join("&").replace("/%20/g","+"),"get"!==i&&"jsonp"!==p||(a+=a.indexOf("?")>-1?a.indexOf("=")>-1?"&"+u:u:"?"+u)}}(),m(),"jsonp"===p?(r=document.createElement("script"),c="JSONP_"+((new Date).getTime()+Math.round(1e3*Math.random())),t[c]=function(t){clearTimeout(g),document.body.removeChild(r),T(t)},r.src=a+(a.indexOf("?")>-1?"&":"?")+"callback="+c,r.type="text/javascript",document.body.appendChild(r),s(c,r)):((j=function(){if(t.XMLHttpRequest)return new XMLHttpRequest;for(var e=["Microsoft","msxm3","msxml2","msxml1"],n=0;n<e.length;n++)try{return new ActiveXObject(e[n]+".XMLHTTP")}catch(t){}}()).open(i,a,l),"post"!==i||"formPost"===i||f?f&&j.setRequestHeader("Content-Type",f):j.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),j.onreadystatechange=function(){if(4===j.readyState){if(j=function(t){var e={};e.responseURL=t.responseURL,e.statusText=t.statusText,e.withCredentials=t.withCredentials,e.responseText=t.responseText,e.status=t.status,e.contentType=t.getResponseHeader("Content-Type");var n=e.responseText;if(/\bjson\b/.test(e.contentType))try{e.response=JSON.parse(n)}catch(t){e.response=n,e.statusText="json parse error"}return e}(j),d!==e){if(h)return;clearTimeout(g)}j.status>=200&&j.status<300||304==j.status?T(j.response):y(j.status,j.statusText),b(j)}},j.send("get"===i?null:u),s())}t.ajax=n,t.post=function(t,e,o){"function"==typeof e&&(o=o||e),n({url:t,method:"POST",data:e,success:o})},t.get=function(t,e,o){"function"==typeof e&&(o=o||e),n({url:t,method:"get",data:e,success:o})}}(window);